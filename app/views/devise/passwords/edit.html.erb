<!-- Password Reset Edit Page -->
<div class="min-h-screen flex items-center justify-center relative"
     style="background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://images.unsplash.com/photo-1560472354-b33ff0c44a43?ixlib=rb-4.0.3') center/cover;">

  <div class="container mx-auto px-4 py-8 flex items-center justify-center">
    <div class="card w-full max-w-md bg-base-100 shadow-2xl">
      <div class="card-body">
        <!-- Logo Section -->
        <div class="text-center mb-6">
          <%= link_to root_path, class: "flex items-center justify-center gap-3 mb-4" do %>
            <div class="w-12 h-12 bg-primary rounded-lg flex items-center justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-white">
                <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205l3 1m1.5.5l-1.5-.5M6.75 7.364V3h-3v18m3-13.636l10.5-3.819" />
              </svg>
            </div>
            <span class="text-2xl font-bold text-base-content">PropertyHub</span>
          <% end %>

          <!-- Security Icon -->
          <div class="flex justify-center mb-4">
            <div class="w-16 h-16 bg-success/10 rounded-full flex items-center justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-success">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.623 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
              </svg>
            </div>
          </div>

          <h2 class="text-2xl font-semibold text-base-content mb-2">Reset Your Password</h2>
          <p class="text-base-content/70">Create a new secure password for your account</p>
        </div>

        <!-- Error Messages -->
        <%= render "devise/shared/error_messages", resource: resource %>

        <!-- Password Reset Form -->
        <%= form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :put }, class: "space-y-4") do |f| %>
          <%= f.hidden_field :reset_password_token %>

          <!-- New Password Field -->
          <div class="form-control">
            <%= f.label :password, class: "label" do %>
              <span class="label-text font-medium">New Password</span>
              <% if @minimum_password_length %>
                <span class="label-text-alt text-base-content/60">
                  (<%= @minimum_password_length %> characters minimum)
                </span>
              <% end %>
            <% end %>
            <%= f.password_field :password,
                autofocus: true,
                autocomplete: "new-password",
                placeholder: "Enter your new password",
                class: "input input-bordered w-full focus:input-primary" %>
          </div>

          <!-- Confirm Password Field -->
          <div class="form-control">
            <%= f.label :password_confirmation, class: "label" do %>
              <span class="label-text font-medium">Confirm New Password</span>
            <% end %>
            <%= f.password_field :password_confirmation,
                autocomplete: "new-password",
                placeholder: "Confirm your new password",
                class: "input input-bordered w-full focus:input-primary" %>
          </div>

          <!-- Password Requirements -->
          <div class="bg-info/10 p-4 rounded-lg">
            <h4 class="font-medium text-info mb-2 flex items-center">
              <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
              </svg>
              Password Requirements
            </h4>
            <ul class="text-sm text-base-content/70 space-y-1">
              <li>• At least <%= @minimum_password_length || 6 %> characters long</li>
              <li>• Mix of letters and numbers recommended</li>
              <li>• Avoid common passwords</li>
            </ul>
          </div>

          <!-- Reset Password Button -->
          <div class="form-control mt-6">
            <%= f.submit "Update My Password", class: "btn btn-primary w-full text-white font-medium" %>
          </div>
        <% end %>

        <!-- Success Message -->
        <div class="text-center mt-6">
          <p class="text-sm text-base-content/60">
            After updating, you'll be signed in automatically
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
