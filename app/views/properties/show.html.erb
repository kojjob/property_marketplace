<div class="container mx-auto px-4 py-8">
  <div class="bg-white rounded-lg shadow-lg p-6">
    <div class="flex justify-between items-start mb-6">
      <h1 class="text-3xl font-bold"><%= @property.title %></h1>
      <% if user_signed_in? && @property.user == current_user %>
        <div class="flex space-x-2">
          <%= link_to "Edit", edit_property_path(@property), class: "bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600" %>
          <%= button_to "Delete", @property, method: :delete, data: { confirm: "Are you sure?" }, class: "bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600" %>
        </div>
      <% end %>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <p class="text-gray-600 mb-2">Type: <span class="font-semibold"><%= @property.property_type %></span></p>
        <p class="text-gray-600 mb-2">Location: <span class="font-semibold"><%= @property.address %>, <%= @property.city %>, <%= @property.state %> <%= @property.zip_code %></span></p>
        <p class="text-3xl font-bold text-blue-600 mb-4">$<%= number_with_delimiter(@property.price) %></p>

        <div class="flex space-x-4 text-gray-600 mb-6">
          <% if @property.bedrooms.present? %>
            <span><%= @property.bedrooms %> Bedrooms</span>
          <% end %>
          <% if @property.bathrooms.present? %>
            <span><%= @property.bathrooms %> Bathrooms</span>
          <% end %>
          <% if @property.square_feet.present? %>
            <span><%= number_with_delimiter(@property.square_feet) %> sqft</span>
          <% end %>
        </div>
      </div>

      <div>
        <% if user_signed_in? %>
          <% if @is_favorited %>
            <%= button_to "Remove from Favorites", unfavorite_property_path(@property), method: :delete, class: "bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 mb-4" %>
          <% else %>
            <%= button_to "Add to Favorites", favorite_property_path(@property), method: :post, class: "bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 mb-4" %>
          <% end %>
        <% end %>

        <p class="text-sm text-gray-500">Status: <span class="font-semibold"><%= @property.status.capitalize %></span></p>
        <p class="text-sm text-gray-500">Listed by: <span class="font-semibold"><%= @property.user.email %></span></p>
      </div>
    </div>

    <div class="mt-6">
      <h2 class="text-xl font-semibold mb-3">Description</h2>
      <p class="text-gray-700"><%= @property.description %></p>
    </div>
  </div>

  <div class="mt-6">
    <%= link_to "← Back to Properties", properties_path, class: "text-blue-600 hover:underline" %>
  </div>
</div>